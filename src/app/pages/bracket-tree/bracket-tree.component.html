<h1 [ngClass]="{ blur: this.dataService.KOPhaseDone }">K.O. Phase</h1>
<div class="transparent-bg"></div>
<div *ngIf="this.dataService.KOPhaseDone" class="firework">
  <div class="before"></div>
  <div class="after"></div>
</div>
!
<div
  [ngClass]="{ blur: this.dataService.KOPhaseDone }"
  class="round-titles-container"
>
  <div class="round-title">Achtelfinale</div>
  <div class="round-title">Viertelfinale</div>
  <div class="round-title">Halbfinale</div>
  <div class="round-title">Finale</div>
  <div class="round-title">Halbfinale</div>
  <div class="round-title">Viertelfinale</div>
  <div class="round-title">Achtelfinale</div>
</div>

<div *ngIf="this.dataService.KOPhaseWinner != ''" class="winner-container">
  <h1 class="winner-title">Weltmeister</h1>
  <h1 class="winner-name shine">
    {{ this.dataService.KOPhaseWinner.toUpperCase() }}
  </h1>
</div>

<div
  [ngClass]="{ blur: this.dataService.KOPhaseDone }"
  class="tree-container"
  [@bracketTreeStaggerFadeAnimation]
>
  <div class="column">
    <div *ngIf="this.dataService.groupPhaseDone" class="brackets-container">
      <app-bracket
        *ngFor="let match of this.dataService.KOPhaseMatches[0].slice(0, 4)"
        [match]="match"
      >
      </app-bracket>
    </div>
  </div>
  <div class="column">
    <div
      *ngIf="this.dataService.KOPhaseRoundIndex > 0"
      class="brackets-container"
    >
      <app-bracket
        *ngFor="let match of this.dataService.KOPhaseMatches[1].slice(0, 2)"
        [match]="match"
      >
      </app-bracket>
    </div>
  </div>
  <div class="column">
    <div
      *ngIf="this.dataService.KOPhaseRoundIndex > 1"
      class="brackets-container"
    >
      <app-bracket
        *ngFor="let match of this.dataService.KOPhaseMatches[2].slice(0, 1)"
        [match]="match"
      >
      </app-bracket>
    </div>
  </div>
  <div class="column">
    <div
      *ngIf="this.dataService.KOPhaseRoundIndex > 2"
      class="brackets-container"
    >
      <app-bracket [match]="this.dataService.KOPhaseMatches[3][0]">
      </app-bracket>
    </div>
  </div>
  <div class="column">
    <div
      *ngIf="this.dataService.KOPhaseRoundIndex > 1"
      class="brackets-container"
    >
      <app-bracket
        *ngFor="let match of this.dataService.KOPhaseMatches[2].slice(1, 2)"
        [match]="match"
      >
      </app-bracket>
    </div>
  </div>
  <div class="column">
    <div
      *ngIf="this.dataService.KOPhaseRoundIndex > 0"
      class="brackets-container"
    >
      <app-bracket
        *ngFor="let match of this.dataService.KOPhaseMatches[1].slice(2, 4)"
        [match]="match"
      >
      </app-bracket>
    </div>
  </div>
  <div class="column">
    <div *ngIf="this.dataService.groupPhaseDone" class="brackets-container">
      <app-bracket
        *ngFor="let match of this.dataService.KOPhaseMatches[0].slice(4, 8)"
        [match]="match"
      >
      </app-bracket>
    </div>
  </div>
</div>
